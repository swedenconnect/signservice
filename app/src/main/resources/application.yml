#
# SignService configuration
#

server:
  servlet:
    context-path: /
    
#
# Management
#
management:
  server:
    port: 8081
  auditevents:
    enabled: true
  endpoint:
    auditevents:
      enabled: true
  endpoints:
    web:
      exposure:
        include: health,info,auditevents

signservice:
  domain: localhost
  base-url: http://${signservice.domain}:8080
  system-audit:
    actuator:
      name: "SignService System Audit Logger"
      principal: "SignService"
  default-credential:
    name: SignService
    resource: classpath:signservice.jks
    alias: signservice
    type: JKS
    password: secret
    key-password: secret  
  default-handler-config:
    protocol:
      dss:
        name: "DssProtocolHandler"
        include-assertion: true
        include-request-message: true        
  engines:
  - name: "Sandbox"
    processing-paths:
    - /sign/sandbox          
    sign-service-id: https://signservice.digg.se
    client:
      client-id: https://eid2cssp.3xasecurity.com/sign
      trusted-certificates:
      - classpath:clients/sandbox.crt
    protocol:
      dss:
        include-request-message: false
        default-config-ref: protocol.dss
    authn:
      mock:
        active: true
        name: "MockedAuthenticationHandler"
    audit:
      log-system:
        name: "Sandbox Audit Logger"
        logger-name: SANDBOX
        
  - name: "Sandbox2"
    processing-paths:
    - /sign/sandbox2
    sign-service-id: https://signservice.digg.se
    client:
      client-id: https://eid2cssp.3xasecurity.com/sign2
      trusted-certificates:
      - classpath:clients/sandbox.crt
    protocol:
      dss:
        include-request-message: false
        default-config-ref: protocol.dss
    authn:
      mock:
        active: true
    audit:
      file:
        name: "Sandbox2 Audit Logger"
        file-name: target/audit/sandbox2-audit.log

#
# Logging
#
logging:
  level:
    se:
      swedenconnect:
        security: DEBUG
        signservice: DEBUG
#  file:
#    path: app/target/logs


#logging.level.org.springframework.web.filter.CommonsRequestLoggingFilter=DEBUG
